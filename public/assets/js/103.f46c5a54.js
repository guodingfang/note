(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{354:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"创建和发布-npm-包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建和发布-npm-包","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建和发布 npm 包")]),a._v(" "),s("h3",{attrs:{id:"创建模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建模块","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建模块")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm init\n")])])]),s("p",[a._v("生成了 "),s("code",[a._v("package.json")]),a._v(" 配置文件")]),a._v(" "),s("h3",{attrs:{id:"增加入口文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增加入口文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 增加入口文件")]),a._v(" "),s("p",[a._v("默认的入口文件是根目录下的 "),s("code",[a._v("index.js")]),a._v("，在根目录下创建 "),s("code",[a._v("index.js")])]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("printMsg")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"This is a message from the demo package"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h3",{attrs:{id:"登录或注册npm账号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录或注册npm账号","aria-hidden":"true"}},[a._v("#")]),a._v(" 登录或注册npm账号")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 注册npm账号\nnpm adduser\n\n# 登录npm账号  \nnpm login \n")])])]),s("h3",{attrs:{id:"发布包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布包","aria-hidden":"true"}},[a._v("#")]),a._v(" 发布包")]),a._v(" "),s("p",[a._v("发布包之前，需要做两步：")]),a._v(" "),s("ul",[s("li",[a._v("修改 "),s("code",[a._v("CHANGE.MD")]),a._v("，这里记录了我们包发布的版本变化情况，格式自定")]),a._v(" "),s("li",[a._v("修改 "),s("code",[a._v("package.json")]),a._v(" 中的 "),s("code",[a._v("version")]),a._v(" 字段，表示这次发布的包的版本，如果不修改，发布会报错。")])]),a._v(" "),s("p",[a._v("发布包：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm publish\n")])])]),s("h3",{attrs:{id:"撤销发布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#撤销发布","aria-hidden":"true"}},[a._v("#")]),a._v(" 撤销发布")]),a._v(" "),s("p",[a._v("撤销发布发布过的某个版本代码")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm unpublish <package>@<version>\n")])])]),s("p",[a._v("发布成功之后，这个包就可以通过npm install命令来进行安装了。")]),a._v(" "),s("h2",{attrs:{id:"管理包的版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理包的版本","aria-hidden":"true"}},[a._v("#")]),a._v(" 管理包的版本")]),a._v(" "),s("p",[a._v("当下载包和发布包时，都会关注到包的版本号，npm 使用语义版本号来管理包。")]),a._v(" "),s("blockquote",[s("p",[a._v("语义版本号组成：X.Y.Z")])]),a._v(" "),s("ul",[s("li",[a._v("X 代表主版本号，表示有大变动，向下不兼容")]),a._v(" "),s("li",[a._v("Y 代表次版本号，表示新增功能，向下兼容")]),a._v(" "),s("li",[a._v("Z 代表补丁版本号，表示修复 BUG")])])])}),[],!1,null,null,null);t.default=n.exports}}]);